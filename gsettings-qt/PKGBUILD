# Maintainer: Xiao-Long Chen <chenxiaolong@cxl.epac.to>

# vercheck-pkgbuild: auto
# vercheck-ubuntu: name=${pkgname}, repo=utopic

pkgname=gsettings-qt
_actual_ver=0.1
_extra_ver=+14.10.20140624
pkgver=${_actual_ver}${_extra_ver/\+/.}
pkgrel=1
pkgdesc="Library to access GSettings from Qt"
arch=('i686' 'x86_64')
url="https://launchpad.net/gsettings-qt"
license=('LGPL')
groups=('unity')
depends=('qt5-base' 'qt5-declarative')
makedepends=('qtchooser')
source=("https://launchpad.net/ubuntu/+archive/primary/+files/gsettings-qt_${_actual_ver}${_extra_ver}.orig.tar.gz")
sha512sums=('18506607a76deb5cde303db9a65194d9bc8155b9bb78002ac8ff76be6b4711ce74ee5e376424cac032f313e0fe8de4079b0e583aa4ebfe6c32db7cea6394aa80')

build() {
  cd "${srcdir}/${pkgname}-${_actual_ver}${_extra_ver}"
  qmake-qt5 gsettings-qt.pro
  make
}

package() {
  cd "${srcdir}/${pkgname}-${_actual_ver}${_extra_ver}"
  make INSTALL_ROOT="${pkgdir}/" install

  rm -r "${pkgdir}/usr/tests/"
}
